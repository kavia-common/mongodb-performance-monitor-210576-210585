{"is_source_file": true, "format": "JavaScript", "description": "This file defines a JavaScript module named 'metricsService' that provides functions to fetch and mock performance metrics data such as summary and timeseries for a dashboard. It supports feature-flag-driven mock data generation and plans for real API integration when backend endpoints are ready.", "external_files": ["./api"], "external_methods": ["get"], "published": ["getMetricsSnapshot", "getMetricsTimeseries", "tryHealthCheck"], "classes": [], "methods": [{"name": "parseFeatureFlags()", "description": "Parses the environment variable REACT_APP_FEATURE_FLAGS into a record of key-value pairs.", "scope": "", "scopeKind": ""}, {"name": "delay(ms = 180)", "description": "Creates a promise that resolves after a specified number of milliseconds.", "scope": "", "scopeKind": ""}, {"name": "pseudo(i)", "description": "Generates a deterministic pseudo-random number based on an index to keep mock data stable.", "scope": "", "scopeKind": ""}, {"name": "buildMockSeries(opts = {})", "description": "Creates a series of mock time series data points based on specified window and step seconds.", "scope": "", "scopeKind": ""}, {"name": "summarize(points)", "description": "Extracts a summary object from a series of data points, using the last point.", "scope": "", "scopeKind": ""}, {"name": "clamp(n, min, max)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getMetricsSnapshot({ instanceId } = {})", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getMetricsTimeseries({ instanceId, windowSec = 300, stepSec = 10 } = {})", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "tryHealthCheck()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["get"], "search-terms": ["metricsService", "mock series", "performance metrics", "feature flags", "metrics API"], "state": 2, "file_id": 24, "knowledge_revision": 60, "git_revision": "", "ctags": [{"_type": "tag", "name": "MODE", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^const MODE = (FLAGS.metricsApi || \"mock\").toLowerCase(); \\/\\/ \"mock\" | \"real\"$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "buildMockSeries", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^function buildMockSeries(opts = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(opts = {})"}, {"_type": "tag", "name": "clamp", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^function clamp(n, min, max) {$/", "language": "JavaScript", "kind": "function", "signature": "(n, min, max)"}, {"_type": "tag", "name": "delay", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^function delay(ms = 180) {$/", "language": "JavaScript", "kind": "function", "signature": "(ms = 180)"}, {"_type": "tag", "name": "getMetricsSnapshot", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^export async function getMetricsSnapshot({ instanceId } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ instanceId } = {})"}, {"_type": "tag", "name": "getMetricsTimeseries", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^export async function getMetricsTimeseries({ instanceId, windowSec = 300, stepSec = 10 } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ instanceId, windowSec = 300, stepSec = 10 } = {})"}, {"_type": "tag", "name": "parseFeatureFlags", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^function parseFeatureFlags() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "pseudo", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^function pseudo(i) {$/", "language": "JavaScript", "kind": "function", "signature": "(i)"}, {"_type": "tag", "name": "summarize", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^function summarize(points) {$/", "language": "JavaScript", "kind": "function", "signature": "(points)"}, {"_type": "tag", "name": "tryHealthCheck", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^export async function tryHealthCheck() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "a86ca8645951bdccd8002fa7a71fe54d", "format-version": 4, "code-base-name": "performance_monitor_frontend", "filename": "performance_monitor_frontend/src/lib/metricsService.js", "revision_history": [{"60": ""}]}