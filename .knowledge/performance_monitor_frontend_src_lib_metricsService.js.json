{"is_source_file": true, "format": "JavaScript", "description": "This file defines a metrics service module for a frontend application, providing functions to retrieve mock or real metrics data such as snapshots and timeseries, as well as a health check. It interacts with an API client and configuration modules.", "external_files": ["./apiClient", "./config"], "external_methods": ["apiTryRequest", "apiRequest", "getEnumFlag"], "published": ["tryHealthCheck", "getMetricsSnapshot", "getMetricsTimeseries"], "classes": [], "methods": [{"name": "nowIso()", "description": "Returns the current date and time in ISO string format.", "scope": "", "scopeKind": ""}, {"name": "makeMockSnapshot()", "description": "Creates and returns a mock snapshot object with sample metrics data.", "scope": "", "scopeKind": ""}, {"name": "makeMockSeries({ windowSec = 300, stepSec = 10 })", "description": "Generates a mock timeseries data array for metrics, based on provided window and step seconds.", "scope": "", "scopeKind": ""}, {"name": "tryHealthCheck()", "description": "Performs a health check request to the backend, returning success status and details.", "scope": "", "scopeKind": ""}, {"name": "metricsMode()", "description": "Retrieves the current mode for metrics API, either 'mock' or 'real', defaulting to 'mock'.", "scope": "", "scopeKind": ""}, {"name": "getMetricsSnapshot({ instanceId } = {})", "description": "Fetches a snapshot of metrics data from backend endpoints or returns mock data if not available.", "scope": "", "scopeKind": ""}, {"name": "getMetricsTimeseries({ instanceId, windowSec = 300, stepSec = 10 } = {})", "description": "Fetches timeseries metrics data for charts from backend endpoints or returns mock data if not available.", "scope": "", "scopeKind": ""}], "calls": ["apiTryRequest", "getEnumFlag", "makeMockSnapshot", "makeMockSeries"], "search-terms": ["metricsService", "getMetricsSnapshot", "getMetricsTimeseries", "healthCheck", "apiClient", "config", "metricsApi"], "state": 2, "file_id": 32, "knowledge_revision": 90, "git_revision": "", "ctags": [{"_type": "tag", "name": "getMetricsSnapshot", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^export async function getMetricsSnapshot({ instanceId } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ instanceId } = {})"}, {"_type": "tag", "name": "getMetricsTimeseries", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^export async function getMetricsTimeseries({ instanceId, windowSec = 300, stepSec = 10 } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ instanceId, windowSec = 300, stepSec = 10 } = {})"}, {"_type": "tag", "name": "makeMockSeries", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^function makeMockSeries({ windowSec = 300, stepSec = 10 }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ windowSec = 300, stepSec = 10 })"}, {"_type": "tag", "name": "makeMockSnapshot", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^function makeMockSnapshot() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "metricsMode", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^function metricsMode() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "nowIso", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^function nowIso() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "tryHealthCheck", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^export async function tryHealthCheck() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "4619db87d9079fcf8a50bf0c8bc2cfdb", "format-version": 4, "code-base-name": "performance_monitor_frontend", "filename": "performance_monitor_frontend/src/lib/metricsService.js", "revision_history": [{"90": ""}]}