{"is_source_file": true, "format": "JavaScript", "description": "This file implements a metrics service module for a frontend application, providing functions to fetch and generate mock metrics data, perform health checks, and process metric queries with support for both real backend data and mock data for fallback.", "external_files": ["./apiClient", "./config"], "external_methods": ["apiTryRequest", "getEnumFlag"], "published": ["tryHealthCheck", "getMetricsSnapshot", "getMetricsTimeseries"], "classes": [], "methods": [{"name": "tryHealthCheck()", "description": "Performs a backend health check, falling back to mock data if necessary.", "scope": "", "scopeKind": ""}, {"name": "getMetricsSnapshot({ instanceId, from, to } = {})", "description": "Retrieves a snapshot of key metrics, using various endpoint candidates or mock data.", "scope": "", "scopeKind": ""}, {"name": "getMetricsTimeseries({ instanceId, from, to, windowSec = 300, stepSec = 10 } = {})", "description": "Provides timeseries data for charting, supporting both real data and mock generation.", "scope": "", "scopeKind": ""}, {"name": "makeMockSeries({ windowSec = 300, stepSec = 10 })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "makeMockSnapshot()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "metricsMode()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "nowIso()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "toIso(input)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "windowToFromTo({ windowSec } = {})", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["apiTryRequest", "getEnumFlag", "nowIso", "makeMockSnapshot", "makeMockSeries", "toIso", "windowToFromTo"], "search-terms": ["metricsService", "HealthCheck", "MetricsSnapshot", "MetricsTimeseries", "mock data", "frontend metrics", "API request", "time series", "rollups", "backend endpoints"], "state": 2, "file_id": 32, "knowledge_revision": 101, "git_revision": "", "revision_history": [{"90": ""}, {"101": ""}], "ctags": [{"_type": "tag", "name": "getMetricsSnapshot", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^export async function getMetricsSnapshot({ instanceId, from, to } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ instanceId, from, to } = {})"}, {"_type": "tag", "name": "getMetricsTimeseries", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^export async function getMetricsTimeseries({ instanceId, from, to, windowSec = 300, stepSec = 10/", "language": "JavaScript", "kind": "function", "signature": "({ instanceId, from, to, windowSec = 300, stepSec = 10 } = {})"}, {"_type": "tag", "name": "instanceId", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^  const query = { instanceId, from: toIso(from), to: toIso(to) };$/", "language": "JavaScript", "kind": "field", "scope": "getMetricsSnapshot.query", "scopeKind": "class"}, {"_type": "tag", "name": "makeMockSeries", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^function makeMockSeries({ windowSec = 300, stepSec = 10 }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ windowSec = 300, stepSec = 10 })"}, {"_type": "tag", "name": "makeMockSnapshot", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^function makeMockSnapshot() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "metricsMode", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^function metricsMode() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "nowIso", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^function nowIso() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "toIso", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^function toIso(input) {$/", "language": "JavaScript", "kind": "function", "signature": "(input)"}, {"_type": "tag", "name": "tryHealthCheck", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^export async function tryHealthCheck() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "windowToFromTo", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/metricsService.js", "pattern": "/^function windowToFromTo({ windowSec } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ windowSec } = {})"}], "hash": "7bd536f51c881d8f53bd60bfbd73addd", "format-version": 4, "code-base-name": "performance_monitor_frontend", "filename": "performance_monitor_frontend/src/lib/metricsService.js", "fields": [{"name": "const query = { instanceId, from: toIso(from), to: toIso(to) };", "scope": "getMetricsSnapshot.query", "scopeKind": "class", "description": "unavailable"}]}