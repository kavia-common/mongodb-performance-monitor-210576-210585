{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines the DashboardPage React component for a MongoDB performance monitoring frontend. It includes chart rendering, metrics fetching, and UI elements for performance dashboards.", "external_files": ["../components/Badge", "../components/EmptyState", "../components/InlineError", "../components/LoadingSkeleton", "../components/ToastHost", "../lib/config", "../lib/metricsService", "../lib/uiState", "../lib/wsHooks"], "external_methods": ["tryHealthCheck", "getMetricsSnapshot", "getMetricsTimeseries", "useDebouncedCallback", "useFailureToastGate", "useNetworkStatus", "isLikelyNetworkError", "useWebSocketConnection"], "published": ["DashboardPage"], "classes": [], "methods": [{"name": "formatCompact(n)", "description": "Formats a number into a compact string with suffix B, M, K or as an integer.", "scope": "", "scopeKind": ""}, {"name": "formatNumber(n, { maxFrac = 0 } = {})", "description": "Formats a number according to the specified maximum fraction digits.", "scope": "", "scopeKind": ""}, {"name": "formatRangeLabel(from, to, rangeKey)", "description": "Creates a human-readable label for a given time range and range key.", "scope": "", "scopeKind": ""}, {"name": "computeRangeFromKey(rangeKey)", "description": "Computes ISO date strings for from and to based on a range key like '15m', '1h', etc.", "scope": "", "scopeKind": ""}, {"name": "formatTimeTick(iso, rangeKey)", "description": "Formats ISO string dates into localized time or date strings depending on range.", "scope": "", "scopeKind": ""}, {"name": "tooltipLabel(iso)", "description": "Converts an ISO string to a localized date-time string for tooltips.", "scope": "", "scopeKind": ""}, {"name": "normalizeSeries(raw)", "description": "Transforms raw series data into a uniform array with timestamp and metric fields.", "scope": "", "scopeKind": ""}, {"name": "ChartCard({ title, subtitle, children, status, error, emptyTitle, emptyDescription, rightSlot, onRetry, retryDisabled, offline, })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "DashboardPage()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "MetricWidget({ label, value, unit, hint, tone = \"default\", loading = false })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "loadHealth()", "scope": "DashboardPage", "scopeKind": "function", "description": "unavailable"}, {"name": "loadMetrics()", "scope": "DashboardPage", "scopeKind": "function", "description": "unavailable"}], "calls": ["tryHealthCheck()", "getMetricsSnapshot({ from, to })", "getMetricsTimeseries({ from, to })", "useDebouncedCallback()", "useFailureToastGate()", "useNetworkStatus()", "isLikelyNetworkError()", "useWebSocketConnection()"], "search-terms": ["DashboardPage", "metricsService", "recharts", "React", "useWebSocketConnection", "formatRangeLabel", "getMetricsSnapshot", "getMetricsTimeseries"], "state": 2, "file_id": 13, "knowledge_revision": 108, "git_revision": "b50f6f74535be264d592cc6cf22f4ad71654019f", "revision_history": [{"36": "fbcf61c93eb93ad064f04b92cb68e0c0d7d0f8d6"}, {"44": "72706ee959655bdd99d86a801e73c524606a1f74"}, {"59": "72706ee959655bdd99d86a801e73c524606a1f74"}, {"63": "ab71f8e42eaa8f29a171398ec65b85064caa1d75"}, {"102": "5fc592744ca60480256b06c8d3aa0bf420f0a32b"}, {"108": "b50f6f74535be264d592cc6cf22f4ad71654019f"}], "ctags": [{"_type": "tag", "name": "15m", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^    \"15m\": 15 * 60 * 1000,$/", "language": "JavaScript", "kind": "property", "scope": "computeRangeFromKey.ms", "scopeKind": "class"}, {"_type": "tag", "name": "15m", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^    \"15m\": \"Last 15 minutes\",$/", "language": "JavaScript", "kind": "property", "scope": "formatRangeLabel.map", "scopeKind": "class"}, {"_type": "tag", "name": "1h", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^    \"1h\": 60 * 60 * 1000,$/", "language": "JavaScript", "kind": "property", "scope": "computeRangeFromKey.ms", "scopeKind": "class"}, {"_type": "tag", "name": "1h", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^    \"1h\": \"Last hour\",$/", "language": "JavaScript", "kind": "property", "scope": "formatRangeLabel.map", "scopeKind": "class"}, {"_type": "tag", "name": "24h", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^    \"24h\": 24 * 60 * 60 * 1000,$/", "language": "JavaScript", "kind": "property", "scope": "computeRangeFromKey.ms", "scopeKind": "class"}, {"_type": "tag", "name": "24h", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^    \"24h\": \"Last 24 hours\",$/", "language": "JavaScript", "kind": "property", "scope": "formatRangeLabel.map", "scopeKind": "class"}, {"_type": "tag", "name": "6h", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^    \"6h\": 6 * 60 * 60 * 1000,$/", "language": "JavaScript", "kind": "property", "scope": "computeRangeFromKey.ms", "scopeKind": "class"}, {"_type": "tag", "name": "6h", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^    \"6h\": \"Last 6 hours\",$/", "language": "JavaScript", "kind": "property", "scope": "formatRangeLabel.map", "scopeKind": "class"}, {"_type": "tag", "name": "7d", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^    \"7d\": 7 * 24 * 60 * 60 * 1000,$/", "language": "JavaScript", "kind": "property", "scope": "computeRangeFromKey.ms", "scopeKind": "class"}, {"_type": "tag", "name": "7d", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^    \"7d\": \"Last 7 days\",$/", "language": "JavaScript", "kind": "property", "scope": "formatRangeLabel.map", "scopeKind": "class"}, {"_type": "tag", "name": "ChartCard", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^function ChartCard({$/", "language": "JavaScript", "kind": "function", "signature": "({ title, subtitle, children, status, error, emptyTitle, emptyDescription, rightSlot, onRetry, retryDisabled, offline, })"}, {"_type": "tag", "name": "DashboardPage", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^export default function DashboardPage() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "MetricWidget", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^function MetricWidget({ label, value, unit, hint, tone = \"default\", loading = false }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ label, value, unit, hint, tone = \"default\", loading = false })"}, {"_type": "tag", "name": "computeRangeFromKey", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^function computeRangeFromKey(rangeKey) {$/", "language": "JavaScript", "kind": "function", "signature": "(rangeKey)"}, {"_type": "tag", "name": "connectionsValue", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^            value={connectionsValue}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "debouncedRetry", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^            onRetry={debouncedRetry}$/", "language": "JavaScript", "kind": "field", "scope": "onRetry", "scopeKind": "class"}, {"_type": "tag", "name": "formatCompact", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^function formatCompact(n) {$/", "language": "JavaScript", "kind": "function", "signature": "(n)"}, {"_type": "tag", "name": "formatNumber", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^function formatNumber(n, { maxFrac = 0 } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(n, { maxFrac = 0 } = {})"}, {"_type": "tag", "name": "formatRangeLabel", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^function formatRangeLabel(from, to, rangeKey) {$/", "language": "JavaScript", "kind": "function", "signature": "(from, to, rangeKey)"}, {"_type": "tag", "name": "formatTimeTick", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^function formatTimeTick(iso, rangeKey) {$/", "language": "JavaScript", "kind": "function", "signature": "(iso, rangeKey)"}, {"_type": "tag", "name": "loadHealth", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^  async function loadHealth() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "DashboardPage", "scopeKind": "function"}, {"_type": "tag", "name": "loadMetrics", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^  async function loadMetrics() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "DashboardPage", "scopeKind": "function"}, {"_type": "tag", "name": "loading", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^      aria-busy={loading ? \"true\" : \"false\"}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "map", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^  const map = {$/", "language": "JavaScript", "kind": "class", "scope": "formatRangeLabel", "scopeKind": "class"}, {"_type": "tag", "name": "metrics", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^            disabled={metrics.status === \"loading\"}$/", "language": "JavaScript", "kind": "field", "scope": "DashboardPage.disabled", "scopeKind": "class"}, {"_type": "tag", "name": "metrics", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^            error={metrics.error}$/", "language": "JavaScript", "kind": "field", "scope": "error", "scopeKind": "class"}, {"_type": "tag", "name": "metrics", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^            loading={metrics.status === \"loading\"}$/", "language": "JavaScript", "kind": "field", "scope": "loading", "scopeKind": "class"}, {"_type": "tag", "name": "metrics", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^            offline={metrics.errorKind === \"network\" || !online}$/", "language": "JavaScript", "kind": "field", "scope": "offline", "scopeKind": "class"}, {"_type": "tag", "name": "metrics", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^            retryDisabled={metrics.status === \"loading\"}$/", "language": "JavaScript", "kind": "field", "scope": "retryDisabled", "scopeKind": "class"}, {"_type": "tag", "name": "metrics", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^            status={metrics.status}$/", "language": "JavaScript", "kind": "field", "scope": "status", "scopeKind": "class"}, {"_type": "tag", "name": "ms", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^  const ms = {$/", "language": "JavaScript", "kind": "class", "scope": "computeRangeFromKey", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeSeries", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^function normalizeSeries(raw) {$/", "language": "JavaScript", "kind": "function", "signature": "(raw)"}, {"_type": "tag", "name": "opsValue", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^            value={opsValue}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "rangeLabel", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^            subtitle={rangeLabel}$/", "language": "JavaScript", "kind": "field", "scope": "subtitle", "scopeKind": "class"}, {"_type": "tag", "name": "slowPerMinValue", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^            value={slowPerMinValue}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "slowTone", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^            tone={slowTone}$/", "language": "JavaScript", "kind": "field", "scope": "tone", "scopeKind": "class"}, {"_type": "tag", "name": "tooltipLabel", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/DashboardPage.js", "pattern": "/^function tooltipLabel(iso) {$/", "language": "JavaScript", "kind": "function", "signature": "(iso)"}], "hash": "1f63019bf6e934571784ccede28a325c", "format-version": 4, "code-base-name": "performance_monitor_frontend", "filename": "performance_monitor_frontend/src/pages/DashboardPage.js", "fields": [{"name": "\"15m\": 15 * 60 * 1000,", "scope": "computeRangeFromKey.ms", "scopeKind": "class", "description": "unavailable"}, {"name": "\"15m\": \"Last 15 minutes\",", "scope": "formatRangeLabel.map", "scopeKind": "class", "description": "unavailable"}, {"name": "\"1h\": 60 * 60 * 1000,", "scope": "computeRangeFromKey.ms", "scopeKind": "class", "description": "unavailable"}, {"name": "\"1h\": \"Last hour\",", "scope": "formatRangeLabel.map", "scopeKind": "class", "description": "unavailable"}, {"name": "\"24h\": 24 * 60 * 60 * 1000,", "scope": "computeRangeFromKey.ms", "scopeKind": "class", "description": "unavailable"}, {"name": "\"24h\": \"Last 24 hours\",", "scope": "formatRangeLabel.map", "scopeKind": "class", "description": "unavailable"}, {"name": "\"6h\": 6 * 60 * 60 * 1000,", "scope": "computeRangeFromKey.ms", "scopeKind": "class", "description": "unavailable"}, {"name": "\"6h\": \"Last 6 hours\",", "scope": "formatRangeLabel.map", "scopeKind": "class", "description": "unavailable"}, {"name": "\"7d\": 7 * 24 * 60 * 60 * 1000,", "scope": "computeRangeFromKey.ms", "scopeKind": "class", "description": "unavailable"}, {"name": "\"7d\": \"Last 7 days\",", "scope": "formatRangeLabel.map", "scopeKind": "class", "description": "unavailable"}, {"name": "value={connectionsValue}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "onRetry={debouncedRetry}", "scope": "onRetry", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-busy={loading ? \"true\" : \"false\"}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={metrics.status === \"loading\"}", "scope": "DashboardPage.disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "error={metrics.error}", "scope": "error", "scopeKind": "class", "description": "unavailable"}, {"name": "loading={metrics.status === \"loading\"}", "scope": "loading", "scopeKind": "class", "description": "unavailable"}, {"name": "offline={metrics.errorKind === \"network\" || !online}", "scope": "offline", "scopeKind": "class", "description": "unavailable"}, {"name": "retryDisabled={metrics.status === \"loading\"}", "scope": "retryDisabled", "scopeKind": "class", "description": "unavailable"}, {"name": "status={metrics.status}", "scope": "status", "scopeKind": "class", "description": "unavailable"}, {"name": "value={opsValue}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "subtitle={rangeLabel}", "scope": "subtitle", "scopeKind": "class", "description": "unavailable"}, {"name": "value={slowPerMinValue}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "tone={slowTone}", "scope": "tone", "scopeKind": "class", "description": "unavailable"}]}