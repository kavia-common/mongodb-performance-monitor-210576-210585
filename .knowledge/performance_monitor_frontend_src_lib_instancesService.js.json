{"is_source_file": true, "format": "JavaScript", "description": "A module providing CRUD services for managing MongoDB instances, supporting both real backend API calls and mock implementations for testing. It includes feature flag parsing, validation helpers, mock data handling, and exported functions for listing, creating, updating, and deleting instances.", "external_files": ["./api"], "external_methods": ["get", "post", "put", "del"], "published": ["listInstances", "createInstance", "updateInstance", "deleteInstance"], "classes": [], "methods": [{"name": "parseFeatureFlags()", "description": "Parses environment variable REACT_APP_FEATURE_FLAGS into a key-value object.", "scope": "", "scopeKind": ""}, {"name": "validateInstanceDraft(draft)", "description": "Validates the instance draft object, ensuring required fields are present and correctly formatted.", "scope": "", "scopeKind": ""}, {"name": "loadMockInstances()", "description": "Loads mock instances from local storage.", "scope": "", "scopeKind": ""}, {"name": "saveMockInstances(instances)", "description": "Saves mock instances to local storage.", "scope": "", "scopeKind": ""}, {"name": "ensureSeeded()", "description": "Ensures mock data has been seeded with default instances if none exist.", "scope": "", "scopeKind": ""}, {"name": "mockDelay(ms = 220)", "description": "Returns a Promise that resolves after a specified delay to simulate network latency.", "scope": "", "scopeKind": ""}, {"name": "randomId()", "description": "Generates a random ID string for mock instances.", "scope": "", "scopeKind": ""}, {"name": "createInstance(draft)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "deleteInstance(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "listInstances()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "updateInstance(id, draft)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["get", "post", "put", "del"], "search-terms": ["instancesService", "CRUD", "mock", "feature flags", "MongoDB instances", "local storage", "API endpoints"], "state": 2, "file_id": 20, "knowledge_revision": 50, "git_revision": "", "ctags": [{"_type": "tag", "name": "LS_KEY", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^const LS_KEY = \"pm.instances.v1\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "MODE", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^const MODE = (FLAGS.instancesApi || \"mock\").toLowerCase(); \\/\\/ \"mock\" | \"real\"$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createInstance", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^export async function createInstance(draft) {$/", "language": "JavaScript", "kind": "function", "signature": "(draft)"}, {"_type": "tag", "name": "created", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^  const created = {$/", "language": "JavaScript", "kind": "class", "scope": "createInstance", "scopeKind": "class"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^    createdAt: now,$/", "language": "JavaScript", "kind": "property", "scope": "createInstance.created", "scopeKind": "class"}, {"_type": "tag", "name": "deleteInstance", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^export async function deleteInstance(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "enabled", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^    enabled: Boolean(draft.enabled),$/", "language": "JavaScript", "kind": "property", "scope": "createInstance.created", "scopeKind": "class"}, {"_type": "tag", "name": "ensureSeeded", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^function ensureSeeded() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^    id: randomId(),$/", "language": "JavaScript", "kind": "property", "scope": "createInstance.created", "scopeKind": "class"}, {"_type": "tag", "name": "listInstances", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^export async function listInstances() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "loadMockInstances", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^function loadMockInstances() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "mockDelay", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^function mockDelay(ms = 220) {$/", "language": "JavaScript", "kind": "function", "signature": "(ms = 220)"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^    name: String(draft.name).trim(),$/", "language": "JavaScript", "kind": "property", "scope": "createInstance.created", "scopeKind": "class"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^    notes: String(draft.notes || \"\"),$/", "language": "JavaScript", "kind": "property", "scope": "createInstance.created", "scopeKind": "class"}, {"_type": "tag", "name": "parseFeatureFlags", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^function parseFeatureFlags() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "randomId", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^function randomId() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "saveMockInstances", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^function saveMockInstances(instances) {$/", "language": "JavaScript", "kind": "function", "signature": "(instances)"}, {"_type": "tag", "name": "updateInstance", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^export async function updateInstance(id, draft) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, draft)"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^    updatedAt: now,$/", "language": "JavaScript", "kind": "property", "scope": "createInstance.created", "scopeKind": "class"}, {"_type": "tag", "name": "uri", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^    uri: String(draft.uri).trim(),$/", "language": "JavaScript", "kind": "property", "scope": "createInstance.created", "scopeKind": "class"}, {"_type": "tag", "name": "validateInstanceDraft", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/lib/instancesService.js", "pattern": "/^function validateInstanceDraft(draft) {$/", "language": "JavaScript", "kind": "function", "signature": "(draft)"}], "hash": "d63282eea0121dd826d565293c4b3d59", "format-version": 4, "code-base-name": "performance_monitor_frontend", "filename": "performance_monitor_frontend/src/lib/instancesService.js", "fields": [{"name": "createdAt: now,", "scope": "createInstance.created", "scopeKind": "class", "description": "unavailable"}, {"name": "enabled: Boolean(draft.enabled),", "scope": "createInstance.created", "scopeKind": "class", "description": "unavailable"}, {"name": "id: randomId(),", "scope": "createInstance.created", "scopeKind": "class", "description": "unavailable"}, {"name": "name: String(draft.name).trim(),", "scope": "createInstance.created", "scopeKind": "class", "description": "unavailable"}, {"name": "notes: String(draft.notes || \"\"),", "scope": "createInstance.created", "scopeKind": "class", "description": "unavailable"}, {"name": "updatedAt: now,", "scope": "createInstance.created", "scopeKind": "class", "description": "unavailable"}, {"name": "uri: String(draft.uri).trim(),", "scope": "createInstance.created", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"50": ""}]}