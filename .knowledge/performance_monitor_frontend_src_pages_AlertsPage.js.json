{"is_source_file": true, "format": "JavaScript", "description": "This file defines the React component 'AlertsPage' for managing alert rules and viewing alert events; it includes functions for data fetching, normalization, rendering UI, and user interactions related to alert rules and events.", "external_files": ["../components/AlertRuleFormModal", "../components/Badge", "../components/ConfirmDialog", "../components/EmptyState", "../components/FilterBar", "../components/LoadingSkeleton", "../components/ToastHost", "../lib/alertsService"], "external_methods": ["listAlertRules", "listAlertEvents", "createAlertRule", "deleteAlertRule", "setAlertRuleEnabled", "updateAlertRule"], "published": ["default"], "classes": [], "methods": [{"name": "toneForSeverity(sev)", "description": "Determines badge tone based on severity string.", "scope": "", "scopeKind": ""}, {"name": "toneForStatus(st)", "description": "Determines badge tone based on alert status string.", "scope": "", "scopeKind": ""}, {"name": "formatWhen(iso)", "description": "Formats ISO date strings into locale-specific date-time representation.", "scope": "", "scopeKind": ""}, {"name": "timeframeToSince(timeframe)", "description": "Converts a predefined timeframe string to an ISO timestamp representing the start time.", "scope": "", "scopeKind": ""}, {"name": "normalizeRule(x)", "description": "Normalizes alert rule objects to a consistent structure.", "scope": "", "scopeKind": ""}, {"name": "normalizeEvent(x)", "description": "Normalizes alert event objects to a consistent structure.", "scope": "", "scopeKind": ""}, {"name": "loadRules()", "description": "Fetches alert rules from the backend and updates state.", "scope": "AlertsPage", "scopeKind": "function"}, {"name": "loadEvents({ reset })", "description": "Fetches alert events based on current filters and updates state.", "scope": "AlertsPage", "scopeKind": "function"}, {"name": "setFilter(key, value)", "description": "Updates filter state for alert rules and events.", "scope": "AlertsPage", "scopeKind": "function"}, {"name": "openCreateRule()", "description": "Opens modal for creating new alert rule.", "scope": "AlertsPage", "scopeKind": "function"}, {"name": "openEditRule(rule)", "description": "Opens modal for editing an existing alert rule.", "scope": "AlertsPage", "scopeKind": "function"}, {"name": "openDeleteRule(rule)", "description": "Opens confirmation dialog for deleting an alert rule.", "scope": "AlertsPage", "scopeKind": "function"}, {"name": "handleRuleSubmit(payload)", "description": "Handles submission of the alert rule form, creating or updating rules.", "scope": "AlertsPage", "scopeKind": "function"}, {"name": "handleDeleteConfirmed()", "description": "Confirms and executes deletion of an alert rule.", "scope": "AlertsPage", "scopeKind": "function"}, {"name": "toggleRule(rule)", "description": "Enables or disables an alert rule with optimistic UI updates.", "scope": "AlertsPage", "scopeKind": "function"}, {"name": "AlertsPage()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["listAlertRules", "listAlertEvents", "createAlertRule", "deleteAlertRule", "setAlertRuleEnabled", "updateAlertRule", "toast", "loadRules", "loadEvents"], "search-terms": ["AlertsPage", "alert rules", "alert events", "normalizeRule", "normalizeEvent", "loadRules", "loadEvents", "setAlertRuleEnabled", "createAlertRule", "deleteAlertRule", "listAlertRules", "listAlertEvents"], "state": 2, "file_id": 14, "knowledge_revision": 87, "git_revision": "1bef545b8af6e130a0cb95663ccbdf5e7f14e2ba", "revision_history": [{"37": "fbcf61c93eb93ad064f04b92cb68e0c0d7d0f8d6"}, {"87": "1bef545b8af6e130a0cb95663ccbdf5e7f14e2ba"}], "ctags": [{"_type": "tag", "name": "1h", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^    \"1h\": 60 * 60 * 1000,$/", "language": "JavaScript", "kind": "property", "scope": "timeframeToSince.m", "scopeKind": "class"}, {"_type": "tag", "name": "24h", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^    \"24h\": 24 * 60 * 60 * 1000,$/", "language": "JavaScript", "kind": "property", "scope": "timeframeToSince.m", "scopeKind": "class"}, {"_type": "tag", "name": "6h", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^    \"6h\": 6 * 60 * 60 * 1000,$/", "language": "JavaScript", "kind": "property", "scope": "timeframeToSince.m", "scopeKind": "class"}, {"_type": "tag", "name": "7d", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^    \"7d\": 7 * 24 * 60 * 60 * 1000,$/", "language": "JavaScript", "kind": "property", "scope": "timeframeToSince.m", "scopeKind": "class"}, {"_type": "tag", "name": "AlertsPage", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^export default function AlertsPage() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "formatWhen", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^function formatWhen(iso) {$/", "language": "JavaScript", "kind": "function", "signature": "(iso)"}, {"_type": "tag", "name": "handleDeleteConfirmed", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^        onConfirm={handleDeleteConfirmed}$/", "language": "JavaScript", "kind": "field", "scope": "onConfirm", "scopeKind": "class"}, {"_type": "tag", "name": "handleDeleteConfirmed", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^  async function handleDeleteConfirmed() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "AlertsPage", "scopeKind": "function"}, {"_type": "tag", "name": "handleRuleSubmit", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^        onSubmit={handleRuleSubmit}$/", "language": "JavaScript", "kind": "field", "scope": "onSubmit", "scopeKind": "class"}, {"_type": "tag", "name": "handleRuleSubmit", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^  async function handleRuleSubmit(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)", "scope": "AlertsPage", "scopeKind": "function"}, {"_type": "tag", "name": "loadEvents", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^  async function loadEvents({ reset }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ reset })", "scope": "AlertsPage", "scopeKind": "function"}, {"_type": "tag", "name": "loadRules", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^  async function loadRules() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "AlertsPage", "scopeKind": "function"}, {"_type": "tag", "name": "m", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^  const m = {$/", "language": "JavaScript", "kind": "class", "scope": "timeframeToSince", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeEvent", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^function normalizeEvent(x) {$/", "language": "JavaScript", "kind": "function", "signature": "(x)"}, {"_type": "tag", "name": "normalizeRule", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^function normalizeRule(x) {$/", "language": "JavaScript", "kind": "function", "signature": "(x)"}, {"_type": "tag", "name": "openCreateRule", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^  function openCreateRule() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "AlertsPage", "scopeKind": "function"}, {"_type": "tag", "name": "openDeleteRule", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^  function openDeleteRule(rule) {$/", "language": "JavaScript", "kind": "function", "signature": "(rule)", "scope": "AlertsPage", "scopeKind": "function"}, {"_type": "tag", "name": "openEditRule", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^  function openEditRule(rule) {$/", "language": "JavaScript", "kind": "function", "signature": "(rule)", "scope": "AlertsPage", "scopeKind": "function"}, {"_type": "tag", "name": "setFilter", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^  function setFilter(key, value) {$/", "language": "JavaScript", "kind": "function", "signature": "(key, value)", "scope": "AlertsPage", "scopeKind": "function"}, {"_type": "tag", "name": "timeframeToSince", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^function timeframeToSince(timeframe) {$/", "language": "JavaScript", "kind": "function", "signature": "(timeframe)"}, {"_type": "tag", "name": "toggleRule", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^  async function toggleRule(rule) {$/", "language": "JavaScript", "kind": "function", "signature": "(rule)", "scope": "AlertsPage", "scopeKind": "function"}, {"_type": "tag", "name": "toneForSeverity", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^function toneForSeverity(sev) {$/", "language": "JavaScript", "kind": "function", "signature": "(sev)"}, {"_type": "tag", "name": "toneForStatus", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^function toneForStatus(st) {$/", "language": "JavaScript", "kind": "function", "signature": "(st)"}, {"_type": "tag", "name": "ui", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^          ui.confirmDelete.item ? ($/", "language": "JavaScript", "kind": "field", "scope": "message", "scopeKind": "class"}, {"_type": "tag", "name": "ui", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^        busy={ui.busy}$/", "language": "JavaScript", "kind": "field", "scope": "busy", "scopeKind": "class"}, {"_type": "tag", "name": "ui", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^        initialValue={ui.ruleModal.item}$/", "language": "JavaScript", "kind": "field", "scope": "initialValue", "scopeKind": "class"}, {"_type": "tag", "name": "ui", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^        isOpen={ui.confirmDelete.open}$/", "language": "JavaScript", "kind": "field", "scope": "isOpen", "scopeKind": "class"}, {"_type": "tag", "name": "ui", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^        isOpen={ui.ruleModal.open}$/", "language": "JavaScript", "kind": "field", "scope": "isOpen", "scopeKind": "class"}, {"_type": "tag", "name": "ui", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210585/performance_monitor_frontend/src/pages/AlertsPage.js", "pattern": "/^        mode={ui.ruleModal.mode}$/", "language": "JavaScript", "kind": "field", "scope": "mode", "scopeKind": "class"}], "hash": "0ed1dd6da83499684de54a04c0e3408d", "format-version": 4, "code-base-name": "performance_monitor_frontend", "filename": "performance_monitor_frontend/src/pages/AlertsPage.js", "fields": [{"name": "\"1h\": 60 * 60 * 1000,", "scope": "timeframeToSince.m", "scopeKind": "class", "description": "unavailable"}, {"name": "\"24h\": 24 * 60 * 60 * 1000,", "scope": "timeframeToSince.m", "scopeKind": "class", "description": "unavailable"}, {"name": "\"6h\": 6 * 60 * 60 * 1000,", "scope": "timeframeToSince.m", "scopeKind": "class", "description": "unavailable"}, {"name": "\"7d\": 7 * 24 * 60 * 60 * 1000,", "scope": "timeframeToSince.m", "scopeKind": "class", "description": "unavailable"}, {"name": "onConfirm={handleDeleteConfirmed}", "scope": "onConfirm", "scopeKind": "class", "description": "unavailable"}, {"name": "onSubmit={handleRuleSubmit}", "scope": "onSubmit", "scopeKind": "class", "description": "unavailable"}, {"name": "ui.confirmDelete.item ? (", "scope": "message", "scopeKind": "class", "description": "unavailable"}, {"name": "busy={ui.busy}", "scope": "busy", "scopeKind": "class", "description": "unavailable"}, {"name": "initialValue={ui.ruleModal.item}", "scope": "initialValue", "scopeKind": "class", "description": "unavailable"}, {"name": "isOpen={ui.confirmDelete.open}", "scope": "isOpen", "scopeKind": "class", "description": "unavailable"}, {"name": "isOpen={ui.ruleModal.open}", "scope": "isOpen", "scopeKind": "class", "description": "unavailable"}, {"name": "mode={ui.ruleModal.mode}", "scope": "mode", "scopeKind": "class", "description": "unavailable"}]}